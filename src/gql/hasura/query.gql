query GetBoardLibraries {
  board_details {
    id
    framework
    css_library
    ui_library
  }
}

query GetLastMessages($board_id: uuid, $from_ts: timestamptz) {
  comments(
    order_by: { updated_at: asc }
    where: { updated_at: { _gte: $from_ts }, board_id: { _eq: $board_id } }
  ) {
    id
    content
    user {
      name
      id
    }
    board_id
    updated_at
  }
}

query GetTeamInfo($id: uuid!) {
  teams_by_pk(id: $id) {
    team_boards {
      id
      team_board_detail {
        ui_library
        id
        linter
        framework
        formatter
        css_library
      }
    }
    boards(where: { is_public: { _eq: true } }) {
      id
      user {
        id
        name
      }
    }
    team_members {
      users {
        id
        name
      }
    }
  }
}

query GetJoinedTeams($id: String!) {
  users_by_pk(id: $id) {
    teams {
      id
      name
      team_members {
        user_id
      }
      admin_user {
        id
        name
      }
    }
  }
}
